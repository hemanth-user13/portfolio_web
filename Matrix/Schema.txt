UserDetails (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    email           VARCHAR(255) UNIQUE NOT NULL,
    password        VARCHAR(255) NOT NULL,
    first_name      VARCHAR(100),
    last_name       VARCHAR(100),
    is_global_admin BOOLEAN DEFAULT FALSE,   -- True = Super Admin, False = Admin
    is_active       BOOLEAN DEFAULT TRUE,
    created_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)


Partner (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    name            VARCHAR(255) NOT NULL,
    created_by      BIGINT,  -- FK to UserDetails (Super Admin/Admin who created)
    created_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    is_active       BOOLEAN DEFAULT TRUE,
    FOREIGN KEY (created_by) REFERENCES UserDetails(id)
)


PartnerUser (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    partner_id      BIGINT NOT NULL,   -- FK to Partner
    user_id         BIGINT NOT NULL,   -- FK to UserDetails
    role            ENUM('PARTNER_ADMIN', 'PARTNER_USER') NOT NULL,
    created_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE (partner_id, user_id),  -- prevent duplicate assignment
    FOREIGN KEY (partner_id) REFERENCES Partner(id),
    FOREIGN KEY (user_id) REFERENCES UserDetails(id)
)


Product (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    partner_id      BIGINT NOT NULL,
    name            VARCHAR(255) NOT NULL,
    description     TEXT,
    created_by      BIGINT,  -- FK to UserDetails (who added it)
    created_at      TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (partner_id) REFERENCES Partner(id),
    FOREIGN KEY (created_by) REFERENCES UserDetails(id)
)
